<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Directory Listing</title>
</head>
<body>
<h1>Directory Listing</h1>
<ul id="directoryList"></ul>

<script>
    // Function to fetch directory contents and update the page
    function fetchDirectoryContents() {
        // Fetch the directory contents
        fetch('./')
            .then(response => response.text())
            .then(data => {
                // Parse the HTML response
                let parser = new DOMParser();
                let htmlDoc = parser.parseFromString(data, 'text/html');

                // Get the links to directories
                let links = htmlDoc.querySelectorAll('a[href^="./"]');
                let directoryList = document.getElementById('directoryList');

                // Clear existing list items
                directoryList.innerHTML = '';

                // Create list items for each directory and add them to the page
                links.forEach(link => {
                    if (link.href.endsWith('/')) {
                        let listItem = document.createElement('li');
                        let linkElement = document.createElement('a');
                        linkElement.textContent = link.textContent;
                        linkElement.setAttribute('href', link.href);
                        listItem.appendChild(linkElement);
                        directoryList.appendChild(listItem);
                    }
                });
            })
            .catch(error => console.error('Error fetching directory contents:', error));
    }

    // Call the function when the page loads
    window.addEventListener('load', fetchDirectoryContents);
</script>
</body>
</html>
